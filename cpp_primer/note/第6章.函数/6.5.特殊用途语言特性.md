# 6.5 特殊用途语言特性
## 6.5.2 内联函数和 constexpr 函数
### constexpr 函数
**constexpr 函数**是指能用于常量表达式的函数。定义`constexpr`函数需要遵循几项约定：函数的返回类型及所有形参的类型都得是字面值类型，而且函数体中必须有且只有一条`return`语句。`constexpr`函数不一定返回常量表达式。<br>
### 把内联函数和constexpr函数放在头文件内
## 6.5.3 调试帮助
有时会用到一种类似于头文件保护的技术，以便有选择地执行调试代码。基本思想是，程序可以包含一些用于调试的代码，但是这些代码只在开发程序时使用。当程序编写完成准备发布时，要先屏蔽掉调试代码。<br>
### assert 预处理宏
`assert`预处理宏其实是一个预处理变量，行为类似于内联函数，使用一个表达式作为它的条件：
```c++
assert(expr);
```
首先对`expr`求值，如果表达式为假，`assert`输出信息并终止程序的执行。如果表达式为真，则什么也不做。<br>
`assert`宏定义在`cassert`头文件中。预处理名字由预处理器而非编译器管理，因此可以直接使用预处理名字而无须提供`using`声明。<br>
### BDEBUG 预处理变量
`assert`的行为依赖于一个名为`NDEBUG`的预处理变量的状态。如果定义了`NDEBU`G，则`assert`什么也不做。默认状态下没有定义`NDEBUG`，此时`assert`将执行运行时检查。<br>
可以使用一个`#define`语句定义`NDEBUG`，从而关闭调试状态。很多编译器都提供了一个命令行选项使我们可以定义预处理变量：
```
$ CC -D NDEBUG main.c # use /D with the Microsoft compiler
```
这条命令的作用等价于在`main.c`文件的一开始写`#define NDEBUG`。<br>
预处理器定义了几个对于程序调试很有用的名字：
* __func\_\_ 当前调试的函数的名字
* __FILE\_\_ 存放文件名的字符串字面值
* __LINE\_\_ 存放当前行号的整型字面值
* __TIME\_\_ 存放文件编译时间的字符串字面值
* __DATE\_\_ 存放文件编译日期的字符串字面值
